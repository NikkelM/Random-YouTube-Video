<!DOCTYPE html>
<html id="randomYoutubeVideoHTML" lang="en">
	<head>
		<title>Options - Random YouTube Video</title>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link id="RandomYoutubeVideoStyleSheet" rel="stylesheet" href="../css/popup.css" />
		<link id="RandomYoutubeVideoStyleSheet" rel="stylesheet" href="../css/toggle.css" />
	</head>

	<body id="randomYoutubeVideoBody" class="randomYoutubeVideoPopupBody">
		<div id="randomYoutubeVideo">
			<h1>Random YouTube Video</h1>

			<!-- OVERLAY DIVS -->
			<div id="reviewDonationDiv" class="overlayDiv hidden">
				<div id="reviewDiv" class="hidden">
					<div style="display: flex; flex-direction: row; align-items: center; justify-content: center; height: 100%; font-size: 18px">
						<img src="../icons/icon-32-red.png" alt="Random YouTube Video icon" />
						<p>&nbsp;+ You =&nbsp;</p>
						<img src="../icons/heart.png" alt="Random YouTube Video icon" />
						<p>&nbsp;?</p>
					</div>
					<p>
						Are you enjoying the extension?<br />
						Please consider leaving a review - it helps other people find it!
					</p>
					<br />
					<p>
						Review on:
						<a
							class="buttonLink"
							href="https://chromewebstore.google.com/detail/random-youtube-video/kijgnjhogkjodpakfmhgleobifempckf"
							target="_blank"
							rel="noopener"
							title="Leave a review on the Chrome Web Store"
							>Chrome</a
						>
						<a class="buttonLink" href="https://addons.mozilla.org/en-GB/firefox/addon/random-youtube-video/" target="_blank" rel="noopener" title="Leave a review on the Firefox Add-Ons page"
							>Firefox</a
						>
						<a
							class="buttonLink"
							href="https://microsoftedge.microsoft.com/addons/detail/random-youtube-video/fccfflipicelkilpmgniblpoflkbhdbe"
							target="_blank"
							rel="noopener"
							title="Leave a review on the Edge Add-Ons page"
							>Edge</a
						>
						<br />
						<br />
					</p>
					<button id="reviewOverlayCloseButton" class="randomYoutubeVideoButton" type="button">Maybe later</button>
				</div>

				<div id="donationDiv" class="hidden">
					<div style="display: flex; flex-direction: row; align-items: center; justify-content: center; height: 100%; font-size: 18px">
						<img src="../icons/icon-32-red.png" alt="Random YouTube Video icon" />
						<p>&nbsp;+ You =&nbsp;</p>
						<img src="../icons/heart.png" alt="Random YouTube Video icon" />
						<p>&nbsp;?</p>
					</div>
					<p>
						You've been using the extension a lot - thank you!
						<br />
						<br />
						Please consider donating to make it possible for me to keep developing and maintaining it in the future.
					</p>
					<br />
					<a class="buttonLink" href="https://ko-fi.com/nikkelm" target="_blank" rel="noopener" title="Show your appreciation and support the development of the extension">Donate on Ko-Fi</a>
					<p style="display: inline">or</p>
					<a class="buttonLink" href="https://github.com/sponsors/NikkelM" target="_blank" rel="noopener" title="Show your appreciation and support the development of the extension"
						>Sponsor on GitHub</a
					>
					<br />
					<br />
					<button id="donationOverlayCloseButton" class="randomYoutubeVideoButton" type="button">Maybe later</button>
				</div>
			</div>

			<!-- OPTIONS START -->
			<!-- <h2>Extension Settings</h2> -->
			<p class="grey-text">Hover over an option to view a more detailed explanation.</p>

			<h3>General Video Settings</h3>
			<!-- First row of options -->
			<div class="optionsRow">
				<!-- Shuffling: Open in new tab option toggle -->
				<div class="toggle optionsRow-item">
					<label
						id="shuffleOpenInNewTabOption"
						title="If this is enabled, shuffled videos will open in a new tab instead of the current one. This setting is ignored when using the shuffle button displayed in the popup, which will always open a new tab.">
						Open in new tab
						<input type="checkbox" id="shuffleOpenInNewTabOptionToggle" />
						<span class="slider"></span>
					</label>
				</div>

				<!-- Shuffling: Open in new tab option toggle -->
				<div class="toggle optionsRow-item">
					<label id="shuffleReUseNewTabOption" title="If this is enabled, the first new tab opened by the extension when shuffling will be reused, as long as it is still on a youtube subpage.">
						Reuse new tab
						<input type="checkbox" id="shuffleReUseNewTabOptionToggle" />
						<span class="slider"></span>
					</label>
				</div>

				<!-- Shuffling: Ignore shorts option toggle -->
				<div class="optionsRow-item">
					<div id="shuffleIgnoreShortsOptionDropdownDiv" class="optionTextInput" style="margin-top: -4px">
						<p class="displayInline" title="Choose if the extension should shuffle from all videos uploaded on the channel, ignore shorts, or shuffle only from shorts.">Shorts handling</p>
						<!-- Dropdown menu START -->
						<select
							id="shuffleIgnoreShortsOptionDropdown"
							class="displayInline"
							title="Choose if the extension should shuffle from all videos uploaded on the channel, ignore shorts, or shuffle only from shorts.">
							<option value="1" title="The extension will include both shorts and normal videos in the shuffle.">Include shorts</option>
							<option value="2" title="Shorts will be ignored when shuffling.">Ignore shorts</option>
							<option value="0" title="The extension will only shuffle from shorts uploaded on channels (normal videos are ignored).">Only shorts</option>
						</select>
						<!-- Dropdown menu END -->
					</div>
				</div>
			</div>
			<!-- First row end -->

			<!-- Second row of options -->
			<div class="optionsRow">
				<!-- Shuffling: Open as playlist option toggle -->
				<div class="toggle optionsRow-item">
					<label
						id="shuffleOpenAsPlaylistOption"
						title="If this is enabled, shuffling will choose multiple videos and open a temporary playlist that contains these videos. Use the input field to the right to choose how many videos should be in that playlist.">
						Open a playlist
						<input type="checkbox" id="shuffleOpenAsPlaylistOptionToggle" />
						<span class="slider"></span>
					</label>
				</div>

				<!-- Shuffling: Open as playlist number of videos input -->
				<div
					id="shuffleNumVideosInPlaylistDiv"
					class="optionsRow-item optionTextInput"
					title="Choose how many videos should be in the playlist when shuffling. YouTube limits the number of videos in this playlist type to 50. With higher values the shuffle may take slightly longer than usual.">
					<p>Videos in playlist:</p>
					<input type="number" inputmode="numeric" class="numberInput" max="50" min="1" id="shuffleNumVideosInPlaylistInput" name="shuffleNumVideosInPlaylistInput" value="5" />
				</div>
			</div>
			<!-- Second row end -->

			<!-- Settings for the most recently visited channel -->
			<div id="channel">
				<div id="channelCustomOptionsDiv" class="hidden">
					<h3 id="channelCustomOptionsHeader">Channel settings</h3>
					<p class="grey-text">Customize your most recently visited channel.</p>
					<!-- Custom options per channel: Choose option from dropdown -->
					<div id="channelCustomOptionsDropdownDiv" class="optionTextInput" style="margin-top: 8px">
						<p class="displayInline" title="Choose from one of the provided options in the dropdown to customize your shuffling experience on this channel.">Shuffle from</p>
						<!-- Dropdown menu START -->
						<select id="channelCustomOptionsDropdown" class="displayInline" title="Choose from one of the provided options in the dropdown to customize your shuffling experience on this channel.">
							<option value="allVideosOption" option-width="190px" title="No filters are applied, and a random video from all uploaded videos will be chosen.">all videos on this channel.</option>
							<option value="dateOption" option-width="205px" title="Only videos uploaded on or after the chosen date will be considered when shuffling.">videos uploaded after date:</option>
							<option value="videoIdOption" option-width="190px" title="Only videos uploaded on or after the day the video with the given ID was uploaded will be considered when shuffling.">
								videos after video with ID:
							</option>
							<option value="percentageOption" option-width="206px" title="Only the most recent X% of videos uploaded to the channel will be considered when shuffling.">
								the most recent % of videos:
							</option>
						</select>
						<!-- Dropdown menu END -->
						<!-- Input fields per option START -->
						<input
							type="date"
							class="hidden dateInput"
							id="channelCustomOptionsDateOptionInput"
							name="channelCustomOptionsDateOptionInput"
							title="Only videos uploaded on or after the chosen date will be considered when shuffling." />
						<input
							type="text"
							inputmode="text"
							class="hidden youtubeIdInput"
							maxlength="11"
							id="channelCustomOptionsVideoIdOptionInput"
							name="channelCustomOptionsVideoIdOptionInput"
							title="Only videos uploaded on or after the day the video with the given ID was uploaded will be considered when shuffling."
							placeholder="Enter Video ID" />
						<input
							type="number"
							inputmode="numeric"
							class="hidden displayInline numberInput noArrows"
							max="100"
							min="1"
							id="channelCustomOptionsPercentageOptionInput"
							name="channelCustomOptionsPercentageOptionInput"
							title="Only the most recent X% of videos uploaded to the channel will be considered when shuffling." />
						<p id="channelCustomOptionsPercentageOptionP" class="hidden displayInline" title="Only the most recent X% of videos uploaded to the channel will be considered when shuffling.">%</p>
						<!-- Input fields per option END -->
					</div>
					<!-- Shuffle button -->
					<button id="popupShuffleButton" class="randomYoutubeVideoButton shuffleButton">Shuffle from this channel</button>
				</div>
			</div>

			<h3 title="These settings are for people with some technical knowledge. Don't worry if you don't know what they're about, they don't add any features!">Advanced Settings</h3>
			<!-- Custom API key: Option toggle -->
			<div class="optionsRow">
				<div class="toggle optionsRow-item">
					<label
						id="useCustomApiKeyOption"
						title="Your custom API key will only be stored locally and not shared with anyone! Using your own YouTube API key gives you more control over the usage of the extension. Enter your API key in the corresponding field below after enabling this option. This also enables you to opt out of sharing video id's with other users through the database. Unsure how to get an API key? Follow the official documentation: https://developers.google.com/youtube/v3/getting-started">
						Use custom API key
						<input type="checkbox" id="useCustomApiKeyOptionToggle" />
						<span class="slider"></span>
					</label>
				</div>

				<!-- Database sharing: Option toggle -->
				<div class="toggle optionsRow-item">
					<label
						id="dbSharingOption"
						title="Can be disabled if a custom API key is provided. By opting out of database sharing, the video ID's of channels you visit will not be shared to the database. However, you will also not be able to access video id's uploaded to the database by other users. Video id's will still be stored locally. When opting back in to sharing, you will regain access to the database and locally stored video id's may be shared with other users.">
						Database sharing
						<input type="checkbox" id="dbSharingOptionToggle" />
						<span class="slider"></span>
					</label>
				</div>
			</div>

			<!-- Custom API key: Input -->
			<div id="customApiKeyInputDiv" class="optionTextInput hidden">
				<!-- Learn how to get an API key -->
				<div id="customApiKeyHowToGetDiv">
					<p class="grey-text displayInline">Follow the</p>
					<a class="whiteGreyLink displayInline" href="https://developers.google.com/youtube/v3/getting-started" target="_blank" rel="noopener">official guide</a>
					<p class="grey-text displayInline">to learn how to get an API key.</p>
				</div>

				<p style="margin-top: 6px">Your custom API key:</p>
				<input
					type="text"
					id="customApiKeyInputField"
					name="customApiKeyInputField"
					style="width: 80%"
					title="Enter your YouTube API key here. It will not be shared with anyone."
					placeholder="Enter API key here. It won't be shared with anyone." />
				<br />
				<div id="customApiKeyInputInfoDiv" class="hidden">
					<p id="customApiKeyInputInfoText"></p>
				</div>
				<button class="randomYoutubeVideoButton" id="customApiKeySubmitButton" type="button">Submit</button>
			</div>
			<!-- OPTIONS END -->

			<!-- FYI -->
			<div id="forYourInformationDiv">
				<!-- Number of shuffled videos -->
				<p id="numberOfShuffledVideosText" style="margin-bottom: 6px; margin-top: 6px">You have shuffled 0 times until now.</p>
				<!-- Daily quota notice -->
				<div
					id="dailyQuotaNoticeDiv"
					class="hidden"
					title="To protect the userbase against abuse, each user has a limited amount of requests to the YouTube API per day. This quota only ticks down if you are the first to shuffle from a channel, and should not effect users with normal usage patterns. If you are affected by this, you may make use of the custom API key option to remove this limitation.">
					<p class="displayInline">You have</p>
					<p class="displayInline" id="dailyQuotaNoticeText">200</p>
					<p class="displayInline">requests to the YouTube API remaining today.<br />Use a custom API key to remove this limit.</p>
				</div>
				<!-- Daily quota notice end -->
			</div>
			<!-- FYI end -->

			<footer id="randomYoutubeVideoFooter">
				Leave a review:
				<a
					class="buttonLink"
					href="https://chromewebstore.google.com/detail/random-youtube-video/kijgnjhogkjodpakfmhgleobifempckf"
					target="_blank"
					rel="noopener"
					title="Leave a review on the Chrome Web Store"
					>Chrome</a
				>
				<a class="buttonLink" href="https://addons.mozilla.org/en-GB/firefox/addon/random-youtube-video/" target="_blank" rel="noopener" title="Leave a review on the Firefox Add-Ons page">Firefox</a>
				<a
					class="buttonLink"
					href="https://microsoftedge.microsoft.com/addons/detail/random-youtube-video/fccfflipicelkilpmgniblpoflkbhdbe"
					target="_blank"
					rel="noopener"
					title="Leave a review on the Edge Add-Ons page"
					>Edge</a
				>
				<br />
				<a class="buttonLink" href="https://github.com/NikkelM/Random-YouTube-Video" target="_blank" rel="noopener" title="View the source code or get into contact with the developer">GitHub</a>
				<button class="randomYoutubeVideoButton" id="viewChangelogButton" type="button" title="View the latest changes to the extension">Changelog</button>
				<a class="buttonLink" href="https://ko-fi.com/nikkelm" target="_blank" rel="noopener" title="Show your appreciation and support the development of the extension">Donate</a>
			</footer>
		</div>

		<script src="../utils.js" type="text/javascript"></script>
		<script src="../shuffleVideo.js" type="text/javascript"></script>
		<script src="../htmlUtils.js" type="text/javascript"></script>
		<script src="../popupUtils.js" type="text/javascript"></script>
		<script src="../popup.js" type="module"></script>
	</body>
</html>
