<!DOCTYPE html>
<html id="randomYoutubeVideoHTML" lang="en">

<head>
	<title>Random YouTube Video</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link id="RandomYoutubeVideoStyleSheet" rel="stylesheet" href="../css/popup.css" />
	<link id="RandomYoutubeVideoStyleSheet" rel="stylesheet" href="../css/toggle.css" />
</head>

<body id="randomYoutubeVideoPopupBody">
	<div id="randomYoutubeVideoPopup" class="randomYoutubeVideoPageBody">

		<h1>Random YouTube Video</h1>

		<!-- OPTIONS START -->
		<!-- <h2>Extension Settings</h2> -->
		<p class="grey-text">Hover over an option to view a more detailed explanation.</p>

		<h3>General Video Settings</h3>
		<!-- Shuffling: Open in new tab option toggle -->
		<div class="optionsRow">
			<div class="toggle optionsRow-item">
				<label id="shuffleOpenInNewTabOption"
					title="If this is enabled, shuffled videos will open in a new tab instead of the current one. This setting has no effect when using the shuffle button displayed in the popup, which will always open a new tab.">
					Open in new tab
					<input type="checkbox" id="shuffleOpenInNewTabOptionToggle">
					<span class="slider"></span>
				</label>
			</div>

			<!-- Shuffling: Open as playlist option toggle -->
			<div class="toggle optionsRow-item">
				<label id="shuffleOpenAsPlaylistOption"
					title="If this is enabled, the channel's uploads playlist will be started when shuffling videos. By default, the video uploaded right before the current one will be played next. This activates YouTube's SPA (Single Page Application) mode, which you may want to avoid.">
					Open in playlist
					<input type="checkbox" id="shuffleOpenAsPlaylistOptionToggle">
					<span class="slider"></span>
				</label>
			</div>
		</div>

		<!-- Settings for the most recently visited channel -->
		<div id="channel">
			<div id="channelCustomOptionsDiv" class="hidden">
				<h3 id="channelCustomOptionsHeader">Channel settings</h3>
				<p class="grey-text">Customize your most recently visited channel.</p>
				<!-- Custom options per channel: Choose option from dropdown -->
				<div id="channelCustomOptionsDropdownDiv" class="optionTextInput" style="margin-top: 8px;">
					<p style="display: inline;"
						title="Choose from one of the provided settings to customize your shuffling experience on this channel.">
						Shuffle from</p>
					<!-- Dropdown menu START -->
					<select id="channelCustomOptionsDropdown" class="displayInline"
						title="Choose from one of the provided settings to customize your shuffling experience on this channel.">
						<option value="dateOption"
							title="Only videos uploaded after the chosen date will be considered when shuffling.">
							videos uploaded after date:</option>
						<option value="youtubeIdOption"
							title="Only videos uploaded after the video with the given ID will be considered when shuffling.">
							videos after video with ID:</option>
						<option value="percentageOption"
							title="Only the most recent X% of videos uploaded to the channel will be considered when shuffling.">
							the most recent % of videos:</option>
					</select>
					<!-- Dropdown menu END -->
					<!-- Input fields per option START -->
					<input type="date" class="hidden" id="channelCustomOptionsDateOptionInput"
						name="channelCustomOptionsDateOptionInput">
					<input type="text" inputmode="text" class="hidden youtubeIdInput" maxlength="11"
						id="channelCustomOptionsYoutubeIdOptionInput" name="channelCustomOptionsYoutubeIdOptionInput" placeholder="Enter Video ID">
					<input type="number" inputmode="numeric" class="hidden displayInline numberInput" max="100" min="1"
						id="channelCustomOptionsPercentageOptionInput" name="channelCustomOptionsPercentageOptionInput">
					<p id="channelCustomOptionsPercentageOptionP" class="hidden displayInline">%</p>
					<!-- Input fields per option END -->
				</div>
				<!-- Shuffle button -->
				<button id="popupShuffleButton" class="randomYoutubeVideoButton shuffleButton">
					Shuffle from this channel</button>
			</div>
		</div>

		<h3>API Settings</h3>
		<!-- Custom API key: Option toggle -->
		<div class="optionsRow">
			<div class="toggle optionsRow-item">
				<label id="useCustomApiKeyOption"
					title="Your custom API key will only be stored locally and not shared with anyone! Using your own YouTube API key gives you more control over the usage of the extension. Enter your API key in the corresponding field below after enabling this option. This also enables you to opt out of sharing video id's with other users through the database. Unsure how to get an API key? Follow the official documentation: https://developers.google.com/youtube/v3/getting-started">
					Use custom API key
					<input type="checkbox" id="useCustomApiKeyOptionToggle">
					<span class="slider"></span>
				</label>
			</div>

			<!-- Database sharing: Option toggle -->
			<div class="toggle optionsRow-item">
				<label id="dbSharingOption"
					title="Can be disabled if a custom API key is provided. By opting out of database sharing, the video id's of channel's you visit will not be shared to the database. However, you will also not be able to access video id's uploaded to the database by other users. Video id's will still be stored locally. When opting back in to sharing, you will regain access to the database and locally stored video id's may be shared with other users.">
					Database sharing
					<input type="checkbox" id="dbSharingOptionToggle">
					<span class="slider"></span>
				</label>
			</div>
		</div>

		<!-- Custom API key: Input -->
		<div id="customApiKeyInputDiv" class="optionTextInput hidden">
			<p>Your custom API key:</p>
			<input type="text" id="customApiKeyInputField" name="customApiKeyInputField" style="width: 80%;"
				title="Enter your YouTube API key here. It will not be shared with anyone."
				placeholder="Enter API key here. It won't be shared with anyone.">
			<br>
			<button class="randomYoutubeVideoButton" id="customApiKeySubmitButton" type="button">Submit</button>
			<div id="customApiKeyInputInfoDiv" class="hidden">
				<p id="customApiKeyInputInfoText"></p>
			</div>
		</div>
		<!-- OPTIONS END -->

		<!-- FYI -->
		<div id="forYourInformationDiv">
			<h2>For Your Information</h2>
			<!-- Number of shuffled videos -->
			<p id="numberOfShuffledVideosText" style="margin-bottom: 6px;">In total, you have shuffled 0
				videos.</p>
			<!-- Daily quota notice -->
			<div id="dailyQuotaNoticeDiv" class="hidden"
				title="To protect the userbase against abuse, each user has a limited amount of requests to the YouTube API per day. This quota only ticks down if you are the first to shuffle from a channel, and should not effect users with normal usage patterns. If you are affected by this, you may make use of the custom API key option to remove this limitation.">
				<p class="displayInline">You have</p>
				<p class="displayInline" id="dailyQuotaNoticeText">200</p>
				<p class="displayInline">requests to the YouTube API remaining today.<br>Use a custom API key to remove this
					limit.</p>
			</div>
			<!-- Daily quota notice end -->
		</div>
		<!-- FYI end -->

		<br>
		<footer id="randomYoutubeVideoFooter">
			<a class="randomYoutubeVideoLink"
				href="https://chrome.google.com/webstore/detail/random-youtube-video/kijgnjhogkjodpakfmhgleobifempckf"
				target="_blank" rel="noopener">Chrome store</a>
			<a class="randomYoutubeVideoLink" href="https://github.com/NikkelM/Random-YouTube-Video/issues/new/choose"
				target="_blank" rel="noopener">Feedback</a>
			<a class="randomYoutubeVideoLink" href="https://github.com/NikkelM/Random-YouTube-Video" target="_blank"
				rel="noopener">GitHub</a>
			<a class="randomYoutubeVideoLink" href="https://ko-fi.com/nikkelm" target="_blank" rel="noopener">Donate</a>
		</footer>

	</div>

	<script src="../js/utils.js" type="text/javascript"></script>
	<script src="../js/shuffleVideo.js" type="text/javascript"></script>
	<script src="../js/popup/popupUtils.js" type="text/javascript"></script>
	<script src="../js/popup/domElements.js" type="text/javascript"></script>
	<script src="../js/popup/popup.js" type="module"></script>
</body>

</html>